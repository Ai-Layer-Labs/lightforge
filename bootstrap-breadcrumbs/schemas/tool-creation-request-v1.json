{
  "schema_name": "schema.def.v1",
  "title": "Tool Creation Request Schema Definition",
  "tags": [
    "schema:definition",
    "system:bootstrap",
    "defines:tool.creation.request.v1"
  ],
  "context": {
    "defines_schema": "tool.creation.request.v1",
    "category": "agent-coordination",
    "description": "Schema for requesting specialist agent to create a new tool",
    "lifecycle": {
      "ttl_policy": {
        "type": "duration",
        "config": {
          "hours": 1
        },
        "description": "Tool creation requests expire after 1 hour if not processed",
        "allow_override": true
      }
    },
    "field_definitions": {
      "tool_name": {
        "type": "string",
        "required": true,
        "description": "Desired tool name (lowercase-hyphenated format)",
        "pattern": "^[a-z][a-z0-9-]*$"
      },
      "description": {
        "type": "string",
        "required": true,
        "description": "Clear description of what the tool should do"
      },
      "requirements": {
        "type": "array",
        "required": true,
        "description": "List of specific capabilities and requirements"
      },
      "examples": {
        "type": "array",
        "required": false,
        "description": "Example use cases to guide tool creation"
      },
      "references": {
        "type": "array",
        "required": false,
        "description": "Libraries, APIs, or documentation URLs to reference"
      },
      "priority": {
        "type": "string",
        "required": false,
        "description": "Priority level (low, normal, high)",
        "enum": ["low", "normal", "high"]
      },
      "requestedBy": {
        "type": "string",
        "required": false,
        "description": "Agent ID of requesting coordinator"
      },
      "conversationContext": {
        "type": "string",
        "required": false,
        "description": "Additional context from user conversation"
      }
    },
    "usage_notes": [
      "Created by coordinator agents (default-chat-assistant) when delegating tool creation",
      "Triggers context-builder to assemble rich context for tool-creator specialist",
      "Must include session tag for response routing",
      "Should include specific requirements, not vague requests",
      "Can reference external libraries (jsr packages, npm, APIs)"
    ],
    "example_breadcrumbs": [
      {
        "scenario": "User requests browser automation tool",
        "breadcrumb": {
          "schema_name": "tool.creation.request.v1",
          "title": "Tool Request: Astral Browser Automation",
          "tags": ["tool:creation", "assigned-to:tool-creator", "session:session-123"],
          "context": {
            "tool_name": "astral",
            "description": "High-level browser automation using Astral library (Puppeteer/Playwright-like for Deno)",
            "requirements": [
              "Launch headless or visible browsers",
              "Navigate to URLs",
              "Take screenshots",
              "Click elements by CSS selector",
              "Type text into inputs",
              "Execute JavaScript in page context",
              "Extract page content",
              "Support multi-step workflows"
            ],
            "references": [
              "jsr:@astral/astral",
              "https://github.com/lino-levan/astral"
            ],
            "examples": [
              {
                "scenario": "Take screenshot of website",
                "steps": "Launch browser → Navigate to URL → Screenshot → Close"
              },
              {
                "scenario": "Fill web form",
                "steps": "Navigate → Type in fields → Click submit → Wait for response"
              }
            ],
            "requestedBy": "default-chat-assistant",
            "conversationContext": "User wants to automate web interactions and capture visual evidence"
          }
        }
      }
    ]
  },
  "description": "Requests for creating new tools, sent from coordinator agents to tool-creator specialist",
  "semantic_version": "1.0.0",
  "llm_hints": {
    "transform": {
      "formatted": {
        "type": "template",
        "template": "Tool Creation Request: {{context.tool_name}}\n\nDescription: {{context.description}}\n\nRequirements:\n{{#each context.requirements}}• {{this}}\n{{/each}}\n\n{{#if context.references}}References:\n{{#each context.references}}• {{this}}\n{{/each}}{{/if}}\n\n{{#if context.examples}}Example Use Cases:\n{{#each context.examples}}• {{this.scenario}}: {{this.steps}}\n{{/each}}{{/if}}"
      }
    },
    "mode": "replace"
  }
}

